"use strict";(self["webpackChunkoci_help_web"]=self["webpackChunkoci_help_web"]||[]).push([[56],{87056:function(e,l,t){t.r(l),t.d(l,{default:function(){return E}});var a=t(56768),s=t(24232),o=t(45130);const n={key:0,class:"logo",style:{"text-align":"center"}},i={key:0},d={key:1},u={key:0},r={key:1},c={key:0},k={key:1},g={key:0},p={key:1},b={key:0},h={key:1},f={key:0},F={key:1},m={class:"right-buttons"};function C(e,l,t,C,_,y){const v=(0,a.g2)("Expand"),L=(0,a.g2)("el-icon"),w=(0,a.g2)("Fold"),E=(0,a.g2)("HomeFilled"),x=(0,a.g2)("el-menu-item"),S=(0,a.g2)("UserFilled"),V=(0,a.g2)("Finished"),X=(0,a.g2)("List"),W=(0,a.g2)("Tools"),U=(0,a.g2)("Promotion"),Q=(0,a.g2)("el-menu"),D=(0,a.g2)("el-scrollbar"),I=(0,a.g2)("el-aside"),M=(0,a.g2)("el-button"),T=(0,a.g2)("el-header"),$=(0,a.g2)("router-view"),A=(0,a.g2)("el-main"),R=(0,a.g2)("el-link"),Y=(0,a.g2)("el-footer"),G=(0,a.g2)("el-container"),H=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(G,{class:"dashboard-container"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{width:_.isCollapsed?"45px":"180px",class:(0,s.C4)(["sidebar",{collapsed:_.isCollapsed}])},{default:(0,a.k6)((()=>[_.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",n,"oci-helper")),(0,a.Lk)("div",{class:"toggle-button",onClick:l[0]||(l[0]=(...e)=>y.toggleSidebar&&y.toggleSidebar(...e))},[_.isCollapsed?((0,a.uX)(),(0,a.Wv)(L,{key:0},{default:(0,a.k6)((()=>[(0,a.bF)(v)])),_:1})):((0,a.uX)(),(0,a.Wv)(L,{key:1},{default:(0,a.k6)((()=>[(0,a.bF)(w)])),_:1}))]),(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.bF)(Q,{"default-active":_.activeMenu,onSelect:y.handleSelect,router:"",class:"sidebar-menu","background-color":"transparent"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{index:"home"},{default:(0,a.k6)((()=>[l[6]||(l[6]=(0,a.Lk)("i",{class:"el-icon-house"},null,-1)),_.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",i,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(E)])),_:1}),l[5]||(l[5]=(0,a.eW)("主页"))])),_.isCollapsed?((0,a.uX)(),(0,a.CE)("span",d,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(E)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(x,{index:"user"},{default:(0,a.k6)((()=>[l[8]||(l[8]=(0,a.Lk)("i",{class:"el-icon-document"},null,-1)),_.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",u,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(S)])),_:1}),l[7]||(l[7]=(0,a.eW)("配置列表"))])),_.isCollapsed?((0,a.uX)(),(0,a.CE)("span",r,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(S)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(x,{index:"createTask"},{default:(0,a.k6)((()=>[l[10]||(l[10]=(0,a.Lk)("i",{class:"el-icon-s-management"},null,-1)),_.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",c,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(V)])),_:1}),l[9]||(l[9]=(0,a.eW)("任务列表"))])),_.isCollapsed?((0,a.uX)(),(0,a.CE)("span",k,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(V)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(x,{index:"ociLog"},{default:(0,a.k6)((()=>[l[12]||(l[12]=(0,a.Lk)("i",{class:"el-icon-s-operation"},null,-1)),_.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",g,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(X)])),_:1}),l[11]||(l[11]=(0,a.eW)("服务日志"))])),_.isCollapsed?((0,a.uX)(),(0,a.CE)("span",p,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(X)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(x,{index:"sysCfg"},{default:(0,a.k6)((()=>[l[14]||(l[14]=(0,a.Lk)("i",{class:"el-icon-s-operation"},null,-1)),_.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",b,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(W)])),_:1}),l[13]||(l[13]=(0,a.eW)("系统配置"))])),_.isCollapsed?((0,a.uX)(),(0,a.CE)("span",h,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(W)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(x,{index:"ai-chat"},{default:(0,a.k6)((()=>[l[16]||(l[16]=(0,a.Lk)("i",{class:"el-icon-s-operation"},null,-1)),_.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",f,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(U)])),_:1}),l[15]||(l[15]=(0,a.eW)("AI聊天助手"))])),_.isCollapsed?((0,a.uX)(),(0,a.CE)("span",F,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(U)])),_:1})])):(0,a.Q3)("",!0)])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1})])),_:1},8,["width","class"]),(0,a.bF)(G,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,{class:"header"},{default:(0,a.k6)((()=>[l[17]||(l[17]=(0,a.Lk)("span",null,null,-1)),(0,a.Lk)("div",m,[(0,a.bo)((0,a.bF)(M,{onClick:l[1]||(l[1]=e=>_.showUpdateDialog=!0)},{default:(0,a.k6)((()=>[(0,a.eW)("🔔 新版本："+(0,s.v_)(_.latestVersion),1)])),_:1},512),[[o.aG,_.needUpdate]]),(0,a.bF)(M,{onClick:y.toggleTheme,class:"logout-button"},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(y.themeText),1)])),_:1},8,["onClick"]),(0,a.Lk)("button",{onClick:l[2]||(l[2]=(...e)=>y.showLogoutConfirm&&y.showLogoutConfirm(...e)),class:"logout-button"},"退出登录")])])),_:1}),(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.bF)($)])),_:1}),(0,a.bF)(Y,{style:{"text-align":"center"}},{default:(0,a.k6)((()=>[(0,a.bF)(R,{href:"https://github.com/Yohann0617",target:"_blank"},{default:(0,a.k6)((()=>[(0,a.eW)("© Yohann All Rights Reserved "+(0,s.v_)(_.currentVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(H,{modelValue:_.showUpdateDialog,"onUpdate:modelValue":l[4]||(l[4]=e=>_.showUpdateDialog=e),title:"版本更新提示",width:"400px",center:""},{footer:(0,a.k6)((()=>[(0,a.bF)(M,{onClick:l[3]||(l[3]=e=>_.showUpdateDialog=!1)},{default:(0,a.k6)((()=>l[20]||(l[20]=[(0,a.eW)("取消")]))),_:1}),(0,a.bF)(M,{type:"primary",onClick:y.confirmUpdate},{default:(0,a.k6)((()=>l[21]||(l[21]=[(0,a.eW)("立即更新")]))),_:1},8,["onClick"])])),default:(0,a.k6)((()=>[(0,a.Lk)("p",null,[l[18]||(l[18]=(0,a.eW)("当前版本：")),(0,a.Lk)("strong",null,(0,s.v_)(_.currentVersion),1)]),(0,a.Lk)("p",null,[l[19]||(l[19]=(0,a.eW)("最新版本：")),(0,a.Lk)("strong",null,(0,s.v_)(_.latestVersion),1)])])),_:1},8,["modelValue"])],64)}t(44114);var _=t(57477),y=t(51219),v={components:{Fold:_.Fold,Expand:_.Expand},mounted(){this.isDarkMode="dark"===localStorage.getItem("theme"),this.currentVersion=localStorage.getItem("currentVersion"),this.latestVersion=localStorage.getItem("latestVersion"),this.needUpdate=localStorage.getItem("currentVersion")!==localStorage.getItem("latestVersion")},computed:{themeText(){return this.isDarkMode?"开灯💡":"关灯🌙"}},data(){return{needUpdate:!1,showUpdateDialog:!1,currentVersion:"",latestVersion:"",activeMenu:"home",isCollapsed:!1,isDarkMode:"dark"===localStorage.getItem("theme")}},methods:{confirmUpdate(){this.$axios.post("/sys/updateVersion",{}).then((e=>{e.data.success?(0,y.nk)({message:e.data.msg,type:"success",duration:5e3}):(0,y.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.needUpdate=!1,this.showUpdateDialog=!1,this.logout()}))},toggleTheme(){const e=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",e?"dark":"light"),this.isDarkMode=e},handleSelect(e){this.activeMenu=e,this.$router.push(`/dashboard/${e}`)},toggleSidebar(){this.isCollapsed=!this.isCollapsed},showLogoutConfirm(){const e=window.confirm("确定要退出登录吗?");e?(this.logout(),sessionStorage.clear()):this.$message.info("取消退出")},logout(){sessionStorage.clear(),sessionStorage.removeItem("token"),this.$router.push("/login")}}},L=t(71241);const w=(0,L.A)(v,[["render",C],["__scopeId","data-v-5b340a59"]]);var E=w}}]);
//# sourceMappingURL=56.d2f172ab.js.map