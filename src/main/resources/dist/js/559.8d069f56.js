"use strict";(self["webpackChunkoci_help_web"]=self["webpackChunkoci_help_web"]||[]).push([[559],{8559:function(e,l,t){t.r(l),t.d(l,{default:function(){return w}});var a=t(6768),o=t(4232),s=t(5130);const n={key:0,class:"logo",style:{"text-align":"center"}},i={key:0},d={key:1},u={key:0},r={key:1},c={key:0},g={key:1},k={key:0},p={key:1},b={key:0},h={key:1},f={class:"right-buttons"};function m(e,l,t,m,F,C){const _=(0,a.g2)("Expand"),v=(0,a.g2)("el-icon"),y=(0,a.g2)("Fold"),w=(0,a.g2)("HomeFilled"),L=(0,a.g2)("el-menu-item"),E=(0,a.g2)("UserFilled"),S=(0,a.g2)("Finished"),x=(0,a.g2)("List"),V=(0,a.g2)("Tools"),U=(0,a.g2)("el-menu"),W=(0,a.g2)("el-scrollbar"),X=(0,a.g2)("el-aside"),Q=(0,a.g2)("el-button"),D=(0,a.g2)("el-header"),I=(0,a.g2)("router-view"),M=(0,a.g2)("el-main"),T=(0,a.g2)("el-link"),$=(0,a.g2)("el-footer"),A=(0,a.g2)("el-container"),R=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(A,{class:"dashboard-container"},{default:(0,a.k6)((()=>[(0,a.bF)(X,{width:F.isCollapsed?"45px":"180px",class:(0,o.C4)(["sidebar",{collapsed:F.isCollapsed}])},{default:(0,a.k6)((()=>[F.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",n,"oci-helper")),(0,a.Lk)("div",{class:"toggle-button",onClick:l[0]||(l[0]=(...e)=>C.toggleSidebar&&C.toggleSidebar(...e))},[F.isCollapsed?((0,a.uX)(),(0,a.Wv)(v,{key:0},{default:(0,a.k6)((()=>[(0,a.bF)(_)])),_:1})):((0,a.uX)(),(0,a.Wv)(v,{key:1},{default:(0,a.k6)((()=>[(0,a.bF)(y)])),_:1}))]),(0,a.bF)(W,null,{default:(0,a.k6)((()=>[(0,a.bF)(U,{"default-active":F.activeMenu,onSelect:C.handleSelect,router:"",class:"sidebar-menu","background-color":"transparent"},{default:(0,a.k6)((()=>[(0,a.bF)(L,{index:"home"},{default:(0,a.k6)((()=>[l[6]||(l[6]=(0,a.Lk)("i",{class:"el-icon-house"},null,-1)),F.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",i,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(w)])),_:1}),l[5]||(l[5]=(0,a.eW)("主页"))])),F.isCollapsed?((0,a.uX)(),(0,a.CE)("span",d,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(w)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(L,{index:"user"},{default:(0,a.k6)((()=>[l[8]||(l[8]=(0,a.Lk)("i",{class:"el-icon-document"},null,-1)),F.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",u,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(E)])),_:1}),l[7]||(l[7]=(0,a.eW)("配置列表"))])),F.isCollapsed?((0,a.uX)(),(0,a.CE)("span",r,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(E)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(L,{index:"createTask"},{default:(0,a.k6)((()=>[l[10]||(l[10]=(0,a.Lk)("i",{class:"el-icon-s-management"},null,-1)),F.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",c,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(S)])),_:1}),l[9]||(l[9]=(0,a.eW)("任务列表"))])),F.isCollapsed?((0,a.uX)(),(0,a.CE)("span",g,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(S)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(L,{index:"ociLog"},{default:(0,a.k6)((()=>[l[12]||(l[12]=(0,a.Lk)("i",{class:"el-icon-s-operation"},null,-1)),F.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",k,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(x)])),_:1}),l[11]||(l[11]=(0,a.eW)("服务日志"))])),F.isCollapsed?((0,a.uX)(),(0,a.CE)("span",p,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(x)])),_:1})])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(L,{index:"sysCfg"},{default:(0,a.k6)((()=>[l[14]||(l[14]=(0,a.Lk)("i",{class:"el-icon-s-operation"},null,-1)),F.isCollapsed?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",b,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(V)])),_:1}),l[13]||(l[13]=(0,a.eW)("系统配置"))])),F.isCollapsed?((0,a.uX)(),(0,a.CE)("span",h,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(V)])),_:1})])):(0,a.Q3)("",!0)])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1})])),_:1},8,["width","class"]),(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.bF)(D,{class:"header"},{default:(0,a.k6)((()=>[l[15]||(l[15]=(0,a.Lk)("span",null,null,-1)),(0,a.Lk)("div",f,[(0,a.bo)((0,a.bF)(Q,{onClick:l[1]||(l[1]=e=>F.showUpdateDialog=!0)},{default:(0,a.k6)((()=>[(0,a.eW)("🔔 新版本："+(0,o.v_)(F.latestVersion),1)])),_:1},512),[[s.aG,F.needUpdate]]),(0,a.bF)(Q,{onClick:C.toggleTheme,class:"logout-button"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(C.themeText),1)])),_:1},8,["onClick"]),(0,a.Lk)("button",{onClick:l[2]||(l[2]=(...e)=>C.showLogoutConfirm&&C.showLogoutConfirm(...e)),class:"logout-button"},"退出登录")])])),_:1}),(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(I)])),_:1}),(0,a.bF)($,{style:{"text-align":"center"}},{default:(0,a.k6)((()=>[(0,a.bF)(T,{href:"https://github.com/Yohann0617",target:"_blank"},{default:(0,a.k6)((()=>[(0,a.eW)("© Yohann All Rights Reserved "+(0,o.v_)(F.currentVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(R,{modelValue:F.showUpdateDialog,"onUpdate:modelValue":l[4]||(l[4]=e=>F.showUpdateDialog=e),title:"版本更新提示",width:"400px",center:""},{footer:(0,a.k6)((()=>[(0,a.bF)(Q,{onClick:l[3]||(l[3]=e=>F.showUpdateDialog=!1)},{default:(0,a.k6)((()=>l[18]||(l[18]=[(0,a.eW)("取消")]))),_:1}),(0,a.bF)(Q,{type:"primary",onClick:C.confirmUpdate},{default:(0,a.k6)((()=>l[19]||(l[19]=[(0,a.eW)("立即更新")]))),_:1},8,["onClick"])])),default:(0,a.k6)((()=>[(0,a.Lk)("p",null,[l[16]||(l[16]=(0,a.eW)("当前版本：")),(0,a.Lk)("strong",null,(0,o.v_)(F.currentVersion),1)]),(0,a.Lk)("p",null,[l[17]||(l[17]=(0,a.eW)("最新版本：")),(0,a.Lk)("strong",null,(0,o.v_)(F.latestVersion),1)])])),_:1},8,["modelValue"])],64)}t(4114);var F=t(7477),C=t(1219),_={components:{Fold:F.Fold,Expand:F.Expand},mounted(){this.isDarkMode="dark"===localStorage.getItem("theme"),this.currentVersion=localStorage.getItem("currentVersion"),this.latestVersion=localStorage.getItem("latestVersion"),this.needUpdate=localStorage.getItem("currentVersion")!==localStorage.getItem("latestVersion")},computed:{themeText(){return this.isDarkMode?"开灯💡":"关灯🌙"}},data(){return{needUpdate:!1,showUpdateDialog:!1,currentVersion:"",latestVersion:"",activeMenu:"home",isCollapsed:!1,isDarkMode:"dark"===localStorage.getItem("theme")}},methods:{confirmUpdate(){this.$axios.post("/sys/updateVersion",{}).then((e=>{e.data.success?(0,C.nk)({message:e.data.msg,type:"success",duration:5e3}):(0,C.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.needUpdate=!1,this.showUpdateDialog=!1,this.logout()}))},toggleTheme(){const e=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",e?"dark":"light"),this.isDarkMode=e},handleSelect(e){this.activeMenu=e,this.$router.push(`/dashboard/${e}`)},toggleSidebar(){this.isCollapsed=!this.isCollapsed},showLogoutConfirm(){const e=window.confirm("确定要退出登录吗?");e?(this.logout(),sessionStorage.clear()):this.$message.info("取消退出")},logout(){sessionStorage.clear(),sessionStorage.removeItem("token"),this.$router.push("/login")}}},v=t(1241);const y=(0,v.A)(_,[["render",m],["__scopeId","data-v-70fb73d6"]]);var w=y}}]);
//# sourceMappingURL=559.8d069f56.js.map