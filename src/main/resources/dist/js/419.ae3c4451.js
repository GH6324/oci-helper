"use strict";(self["webpackChunkoci_help_web"]=self["webpackChunkoci_help_web"]||[]).push([[419],{39419:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var n=t(56768),l=t(24232);const s={style:{"margin-left":"20px"}},o={style:{display:"flex",gap:"10px","align-items":"center"}};function c(e,a,t,c,r,u){const i=(0,n.g2)("el-button"),d=(0,n.g2)("el-text"),m=(0,n.g2)("el-divider"),h=(0,n.g2)("el-input-number"),f=(0,n.g2)("el-form-item"),b=(0,n.g2)("el-option"),p=(0,n.g2)("el-select"),k=(0,n.g2)("el-input"),I=(0,n.g2)("el-radio"),g=(0,n.g2)("el-radio-group"),F=(0,n.g2)("el-form");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(i,{onClick:u.goBack},{default:(0,n.k6)((()=>a[9]||(a[9]=[(0,n.eW)("返回配置页面")]))),_:1},8,["onClick"]),(0,n.Lk)("span",s,[(0,n.bF)(d,{type:"primary"},{default:(0,n.k6)((()=>[(0,n.eW)("配置："+(0,l.v_)(this.usernameList)+" 批量新增开机任务",1)])),_:1})]),(0,n.bF)(m),(0,n.bF)(F,{model:r.createInstanceBatchParams.instanceInfo,"label-width":"auto",style:{"max-width":"600px"}},{default:(0,n.k6)((()=>[(0,n.bF)(f,{label:"开机数量："},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:r.createInstanceBatchParams.instanceInfo.createNumbers,"onUpdate:modelValue":a[0]||(a[0]=e=>r.createInstanceBatchParams.instanceInfo.createNumbers=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[10]||(a[10]=[(0,n.Lk)("span",null,"台",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"时间间隔："},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:r.createInstanceBatchParams.instanceInfo.interval,"onUpdate:modelValue":a[1]||(a[1]=e=>r.createInstanceBatchParams.instanceInfo.interval=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[11]||(a[11]=[(0,n.Lk)("span",null,"秒",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"CPU："},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:r.createInstanceBatchParams.instanceInfo.ocpus,"onUpdate:modelValue":a[2]||(a[2]=e=>r.createInstanceBatchParams.instanceInfo.ocpus=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[12]||(a[12]=[(0,n.Lk)("span",null,"核",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"内存："},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:r.createInstanceBatchParams.instanceInfo.memory,"onUpdate:modelValue":a[3]||(a[3]=e=>r.createInstanceBatchParams.instanceInfo.memory=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[13]||(a[13]=[(0,n.Lk)("span",null,"GB",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"磁盘空间："},{default:(0,n.k6)((()=>[(0,n.bF)(h,{modelValue:r.createInstanceBatchParams.instanceInfo.disk,"onUpdate:modelValue":a[4]||(a[4]=e=>r.createInstanceBatchParams.instanceInfo.disk=e),min:50,max:99999},{suffix:(0,n.k6)((()=>a[14]||(a[14]=[(0,n.Lk)("span",null,"GB",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"系统架构："},{default:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.bF)(p,{modelValue:r.architectureMode,"onUpdate:modelValue":a[5]||(a[5]=e=>r.architectureMode=e),placeholder:"请选择架构",style:{width:"200px"}},{default:(0,n.k6)((()=>[(0,n.bF)(b,{label:"ARM",value:"ARM"}),(0,n.bF)(b,{label:"AMD",value:"AMD"}),(0,n.bF)(b,{label:"AMD_E5（付费💰）",value:"AMD_E5"}),(0,n.bF)(b,{label:"自定义Shape",value:"custom"})])),_:1},8,["modelValue"]),"custom"===r.architectureMode?((0,n.uX)(),(0,n.Wv)(k,{key:0,modelValue:r.createInstanceBatchParams.instanceInfo.architecture,"onUpdate:modelValue":a[6]||(a[6]=e=>r.createInstanceBatchParams.instanceInfo.architecture=e),placeholder:"请输入自定义Shape，例：VM.Standard3.Flex",style:{width:"400px"},clearable:""},null,8,["modelValue"])):(0,n.Q3)("",!0)])])),_:1}),(0,n.bF)(f,{label:"系统类型："},{default:(0,n.k6)((()=>[(0,n.bF)(g,{modelValue:r.createInstanceBatchParams.instanceInfo.operationSystem,"onUpdate:modelValue":a[7]||(a[7]=e=>r.createInstanceBatchParams.instanceInfo.operationSystem=e)},{default:(0,n.k6)((()=>[(0,n.bF)(I,{value:"Canonical Ubuntu"},{default:(0,n.k6)((()=>a[15]||(a[15]=[(0,n.eW)("Canonical Ubuntu")]))),_:1}),(0,n.bF)(I,{value:"Oracle Autonomous Linux"},{default:(0,n.k6)((()=>a[16]||(a[16]=[(0,n.eW)("Oracle Autonomous Linux")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"root密码：",style:{width:"70%"}},{default:(0,n.k6)((()=>[(0,n.bF)(k,{placeholder:"请输入root密码",modelValue:r.createInstanceBatchParams.instanceInfo.rootPassword,"onUpdate:modelValue":a[8]||(a[8]=e=>r.createInstanceBatchParams.instanceInfo.rootPassword=e),clearable:""},{append:(0,n.k6)((()=>[(0,n.bF)(i,{type:"text",onClick:u.generatePassword,icon:e.Search},{default:(0,n.k6)((()=>a[17]||(a[17]=[(0,n.eW)("随机生成")]))),_:1},8,["onClick","icon"])])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bF)(i,{type:"primary",onClick:u.onSubmit,loading:r.loading},{default:(0,n.k6)((()=>a[18]||(a[18]=[(0,n.eW)("开机")]))),_:1},8,["onClick","loading"]),(0,n.bF)(i,{onClick:u.goBack},{default:(0,n.k6)((()=>a[19]||(a[19]=[(0,n.eW)("取消")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])],64)}t(81454);var r=t(80047),u=t(51219),i={components:{ElButton:r.S2},data(){return{loading:!1,architectureMode:"ARM",users:[],usernameList:[],createInstanceBatchParams:{userIds:[],instanceInfo:{ocpus:1,memory:1,disk:50,architecture:"ARM",interval:60,createNumbers:1,operationSystem:"Canonical Ubuntu",rootPassword:""}}}},watch:{architectureMode(e){this.createInstanceBatchParams.instanceInfo.architecture="custom"!==e?e:""}},mounted(){this.users=JSON.parse(this.$route.query.row||"{}"),this.usernameList=this.users.map((e=>e.username)),this.createInstanceBatchParams.userIds=this.users.map((e=>e.id))},methods:{goBack(){this.$router.back()},generatePassword(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let t=0;t<8;t++)a+=e.charAt(Math.floor(Math.random()*e.length));this.createInstanceBatchParams.instanceInfo.rootPassword=a},onSubmit(){this.loading=!0,this.$axios.post("/oci/createInstanceBatch",{...this.createInstanceBatchParams}).then((e=>{e.data.success?(this.loading=!1,(0,u.nk)({message:e.data.msg,type:"success",duration:2e3}),this.goBack()):(0,u.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))}}},d=t(71241);const m=(0,d.A)(i,[["render",c]]);var h=m}}]);
//# sourceMappingURL=419.ae3c4451.js.map